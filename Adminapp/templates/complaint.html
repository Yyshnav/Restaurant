
<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
  <title>Complaint -  Admin</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

  <!-- Favicon and Fonts -->
  <link rel="apple-touch-icon" href="../../theme-assets/images/ico/apple-icon-120.png">
  <link rel="shortcut icon" type="image/x-icon" href="../../theme-assets/images/ico/favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Muli:300,400,600,700|Comfortaa:300,400,700" rel="stylesheet">
  <link href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css" rel="stylesheet">

  <!-- Vendor CSS -->
  <link rel="stylesheet" href="../../theme-assets/css/vendors.css">
  <link rel="stylesheet" href="../../theme-assets/css/app-lite.css">
  <link rel="stylesheet" href="../../theme-assets/css/core/menu/menu-types/vertical-menu.css">
  <link rel="stylesheet" href="../../theme-assets/css/core/colors/palette-gradient.css">
   <style>
    .chat-box {
      height: 300px;
      overflow-y: auto;
      background-color: #ffffff;
      border: 1px solid #dee2e6;
      padding: 1rem;
      border-radius: 0.25rem;
    }
    .chat-message {
      max-width: 75%;
      word-wrap: break-word;
    }
    .chat-message.customer {
      background-color: #f1f1f1;
      text-align: left;
    }
    .chat-message.admin {
      background-color: #007bff;
      color: white;
      text-align: right;
      margin-left: auto;
    }
    .complaint-item {
  transition: transform 0.2s, box-shadow 0.2s;
  cursor: pointer;
}
.complaint-item:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(17, 16, 16, 0.788);
}
.border-left-danger {
  border-left: 4px solid #dc3545;
}
.border-left-warning {
  border-left: 4px solid #ffc107;
}

  </style>
</head>

<body class="vertical-layout vertical-menu 2-columns menu-expanded fixed-navbar" data-open="click" data-menu="vertical-menu" data-color="bg-gradient-x-purple-blue" data-col="2-columns">

  <!-- Side Navigation -->
  <div class="main-menu menu-fixed menu-light menu-accordion    menu-shadow " data-scroll-to-active="true" data-img="../../theme-assets/images/backgrounds/02.jpg">
      <div class="navbar-header">
        <ul class="nav navbar-nav flex-row">       
          <li class="nav-item mr-auto"><a class="navbar-brand" href="index.html"><img class="brand-logo" alt="Chameleon admin logo" src="../../theme-assets/images/logo/logo.png"/>
              <h3 class="brand-text">Admin</h3></a></li>
          <li class="nav-item d-md-none"><a class="nav-link close-navbar"><i class="ft-x"></i></a></li>
        </ul>
      </div>
      <div class="main-menu-content">
        <ul class="navigation navigation-main" id="main-menu-navigation" data-menu="menu-navigation">
          <li class="nav-item"><a href="index.html"><i class="ft-home"></i><span class="menu-title" data-i18n="">Dashboard</span></a>
          </li>
          
          <li class=" nav-item "><a href="viewStaff.html"><i class="ft-users"></i><span class="menu-title" data-i18n="">staff</span></a>
          </li>
          <li class="nav-item"><a href="dishes.html"><i class="ft-box"></i><span class="menu-title" data-i18n="">Dishes</span></a>
          </li>
          <li class=" nav-item"><a href="category.html"><i class="ft-tag"></i><span class="menu-title" data-i18n="">Ctegory</span></a>
          </li>
           <li class="nav-item"><a href="ViewBranch.html"><i class="ft-map-pin"></i><span class="menu-title" data-i18n="">Branches</span></a>
          </li>
          <li class=" nav-item"><a href="branch-report.html"><i class="ft-layers"></i><span class="menu-title" data-i18n="">Reports</span></a>
          </li>
          <!-- <li class="active"><a href="complaint.html"><i class="ft-layers"></i><span class="menu-title" data-i18n="">Complaints</span></a>
          </li> -->
          <li class="nav-item"><a href="offer.html"><i class="ft-award"></i><span class="menu-title"> Offers</span></a></li>
            <li class="nav-item"><a href="carousel.html"><i class="ft-image"></i><span class="menu-title"> Carousel</span></a></li>
        </ul>
      </div><a class="btn btn-danger btn-block btn-glow btn-upgrade-pro mx-1" href="https://themeselection.com/products/chameleon-admin-modern-bootstrap-webapp-dashboard-html-template-ui-kit/" target="_blank">LogOut</a>
      <div class="navigation-background"></div>
    </div>

  <!-- Top Navbar -->
  <nav class="header-navbar navbar-expand-md navbar navbar-with-menu fixed-top navbar-semi-light">
    <div class="navbar-wrapper">
      <div class="navbar-container content">
        <div class="collapse navbar-collapse show" id="navbar-mobile">
          <ul class="nav navbar-nav mr-auto">
            <li class="nav-item d-block d-md-none"><a class="nav-link menu-toggle"><i class="ft-menu"></i></a></li>
            <li class="nav-item d-none d-md-block"><a class="nav-link nav-link-expand"><i class="ficon ft-maximize"></i></a></li>
          </ul>
          <ul class="nav navbar-nav float-right">
            <li class="dropdown dropdown-user nav-item">
              <a class="dropdown-toggle nav-link dropdown-user-link" data-toggle="dropdown">
                <span class="avatar avatar-online">
                  <!-- <img src="../../theme-assets/images/portrait/small/avatar-s-19.png" alt="avatar"><i></i> -->
                </span>
              </a>
              <div class="dropdown-menu dropdown-menu-right">
                <a class="dropdown-item" href="#"><i class="ft-user"></i> Profile</a>
                <a class="dropdown-item" href="#"><i class="ft-power"></i> Logout</a>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <!-- Content -->
  <div class="app-content content">
    <div class="content-wrapper card">
      <div class="content-header row">
        <div class="content-header-left col-md-6 col-12 mb-2">
          <h3 class="content-header-title text-dark">Customer Complaints</h3>
        </div>
      </div>
      <div class="content-body">
       <div class="row" id="complaintList">
  <div class="col-md-6 mb-3">
    <div class=" complaint-item shadow-sm border-left-danger cursor-pointer" data-toggle="modal" data-target="#chatModal"
         data-customer="John Doe" data-message="Food was cold on delivery.">
      <div class="card-body">
        <h5 class="card-title mb-1"><i class="la la-user text-primary mr-1"></i> John Doe</h5>
        <p class="card-text text-muted mb-0"><i class="la la-comment-dots mr-1 text-secondary"></i> Food was cold on delivery.</p>
      </div>
    </div>
  </div>

  <div class="col-md-6 mb-3">
    <div class=" complaint-item shadow-sm border-left-warning cursor-pointer" data-toggle="modal" data-target="#chatModal"
         data-customer="Jane Smith" data-message="Late delivery by 30 minutes.">
      <div class="card-body">
        <h5 class="card-title mb-1"><i class="la la-user text-primary mr-1"></i> Jane Smith</h5>
        <p class="card-text text-muted mb-0"><i class="la la-clock mr-1 text-secondary"></i> Late delivery by 30 minutes.</p>
      </div>
    </div>
  </div>
</div>

  </div>
</div>

<!-- Chat Modal -->
<div class="modal fade" id="chatModal" tabindex="-1" role="dialog" aria-labelledby="chatModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header bg-secondary text-white">
        <h5 class="modal-title text-white" id="chatModalLabel">Chat</h5>
        <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="chat-box" id="chatBox">
          <div class="text-muted text-center">Loading chat...</div>
        </div>
      </div>
      <div class="modal-footer">
        <form id="chatForm" class="form-inline w-100">
          <input type="text" class="form-control mr-2 flex-grow-1" id="replyInput" placeholder="Type your reply..." required>
          <button type="submit" class="btn btn-primary mr-2"><i class="la la-paper-plane"></i> Send</button>
          <button type="button" class="btn btn-danger" id="clearChat"><i class="la la-trash"></i> Clear</button>
        </form>
      </div>
    </div>
  </div>
</div>
  <!-- JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    $('.close-navbar').on('click', function () {
      $('.main-menu').removeClass('menu-expanded').addClass('menu-collapsed');
    });

    $('.menu-toggle').on('click', function () {
      $('.main-menu').toggleClass('menu-collapsed menu-expanded');
    });

  let currentCustomer = '';

  // Open modal and load chat
  $('#chatModal').on('show.bs.modal', function (event) {
    const button = $(event.relatedTarget);
    const customer = button.data('customer');
    const message = button.data('message');
    currentCustomer = customer;

    $('#chatModalLabel').text(`Chat with ${customer}`);
    $('#chatBox').html(`
      <div class="chat-message customer p-2 mb-2 rounded"><strong>${customer}:</strong> ${message}</div>
    `);
  });

  // Send reply
  $('#chatForm').on('submit', function (e) {
    e.preventDefault();
    const reply = $('#replyInput').val();
    if (reply.trim()) {
      $('#chatBox').append(`
        <div class="chat-message admin p-2 mb-2 rounded"><strong>You:</strong> ${reply}</div>
      `);
      $('#replyInput').val('').focus();
      $('#chatBox').scrollTop($('#chatBox')[0].scrollHeight);
    }
  });

  // Clear chat
  $('#clearChat').on('click', function () {
    $('#chatBox').html('<div class="text-muted text-center">Chat cleared.</div>');
    $('#replyInput').val('');
  });

  </script>
</body>
</html>
