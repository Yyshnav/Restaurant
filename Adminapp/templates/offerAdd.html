{% extends 'sidebar.html' %}
{% load static %}


{% block body %}
  <style>
    .switch {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 20px;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 34px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 14px;
      width: 14px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    input:checked + .slider {
      background-color: #28c76f;
    }
    input:checked + .slider:before {
      transform: translateX(20px);
    }
  </style>


  <!-- Main Content -->
  <div class="app-content content">
    <div class="content-wrapper">
      <div class="content-body">
        <div class="container-fluid">
          <div class="card p-3">
            <h4 class="mb-3">Add New Offer</h4>
            <form id="offerForm" method="post">
              {% csrf_token %}
              <div class="form-group">
                <label for="product">Product</label>
                <select class="form-control" name="itemid" id="product" required>
                  <option value="">-- Select Product --</option>  
                  {% for i in items %}
                  <option value="{{i.id}}">{{i.name}}</option>
                  {% endfor %}
                  
                </select>
              </div>

              <div class="form-group">
                <label for="offerTitle">Offer Title</label>
                <input type="text" class="form-control" id="offerTitle" name="name" placeholder="e.g. Weekend Sale" required>
              </div>

              <!-- <div class="form-group">
                <label for="discountType">Discount Type</label>
                <select class="form-control" id="discountType" required>
                  <option value="percent">Percentage (%)</option>
                  <option value="flat">Flat Amount</option>
                </select>
              </div> -->

              <div class="form-group">
                <label for="discountValue">Discount Value</label>
                <input type="number" name="offer_percentage" class="form-control" id="discountValue" required>
              </div>
              <div class="form-group">
                <label for="discountValue">Offer Description</label>
                <input type="text" name="offer_description" class="form-control" id="discountValue" required>
              </div>

              <div class="form-group">
                <label for="startDate">Start Date</label>
                <input type="date" name="startdate" class="form-control" id="startDate" required>
              </div>

              <div class="form-group">
                <label for="endDate">End Date</label>
                <input type="date" name="enddate" class="form-control" id="endDate" required>
              </div>
<div class="form-group">
  <label for="branch">Branch</label>
                <select class="form-control" name="branch" id="branch" required>
                  <option value="">-- Select Branch --</option>  
                  {% for i in branches %}
                  <option value="{{i.id}}">{{i.name}}</option>
                  {% endfor %}
                  
                </select>
                  </div>



              

              <button type="submit" class="btn btn-primary">Add Offer</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

 
  <script>

   document.addEventListener('DOMContentLoaded', function () {
    const today = new Date().toISOString().split('T')[0];
    document.getElementById("startDate").setAttribute('min', today);
    document.getElementById("endDate").setAttribute('min', today);
  });
</script>
{% endblock %}